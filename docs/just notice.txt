Cookies in dev: secure=False so cookies work on http://127.0.0.1:8000. Flip to True in prod.

Activate flow: For HW2 demo, we return activate_token from /auth/register. Paste it into /auth/activate?token=... to activate.

DB Base reuse: Models import Base from app.database so thereâ€™s one metadata source (no duplicate declarative bases).

Middleware skips docs: You can still open /docs without being logged in.





{
  "message": "Account created. Use /auth/activate?token=... to activate.",
  "activate_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwianRpIjoiYjQ4YWY2MmYtODBkMi00OWEwLWEzZjctMWY5ZTg1ZjE3YWFjIiwidHlwZSI6ImFjdGl2YXRlIiwiaWF0IjoxNzYxNzQ5MzA4LCJleHAiOjE3NjE4MzU3MDh9.2dOq4F566H-DZSH3aPvWtD0vcJgpfwDrYUN3izfSuN4"
}